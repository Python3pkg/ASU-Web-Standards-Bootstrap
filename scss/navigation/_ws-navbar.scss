// Web Standards Navbar
// 
// Just like in Bootstrap, but styled differently, uses `navbar`
// 
// <nav class="navbar navbar-ws affix-top" role="navigation">
//     <div class="container-fluid">
//         <div class="navbar-header">
//             <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#ws-navbar-collapse-1" style="display: inline-block;">
//                 <span class="sr-only">Toggle navigation</span>
//                 <span class="icon-bar"></span>
//                 <span class="icon-bar"></span>
//                 <span class="icon-bar"></span>
//             </button>
//             <a class="navbar-brand" href="#">Global Sustainability</a>
//         </div>
//         <div id="ws-navbar-collapse-1" class="collapse navbar-collapse">
//             <ul id="menu-header-menu" class="nav navbar-nav">
//                 <li><a href="#" id="home-icon-main-nav"><span class="fa fa-home hidden-xs hidden-sm" aria-hidden="true"></span><span class="hidden-md hidden-lg">Home</span></a>
//                 </li>
//                 <li class="menu-item"><a title="Outreach" href="#" id="nav-item_outreach">Outreach</a>
//                 </li>
//                 <li class="menu-item"><a title="Research" href="#" id="nav-item_research">Research</a>
//                 </li>
//                 <li class="menu-item"><a title="Solutions" href="#" id="nav-item_solutions">Solutions</a>
//                 </li>
//                 <li class="menu-item"><a title="Operations" href="#" id="nav-item_operations">Operations</a>
//                 </li>
//             </ul>
//         </div>
//     </div>
//     <!-- /.navbar-collapse -->
// </nav>
// 
// There are 4 main states that need to be consistent within the navbar:
// 
// <nav class="navbar navbar-ws affix-top" role="navigation">
//     <div class="container-fluid">
//         <div class="collapse navbar-collapse">
//             <ul class="nav navbar-nav">
//                 <li><a href="#">Normal</a>
//                 </li>
//                 <li class="active"><a href="#">Active</a>
//                 </li>
//                 <li class="hover"><a href="#">Hover</a>
//                 </li>
//                 <li class="disabled"><a href="#">Disabled</a>
//                 </li>
//             </ul>
//         </div>
//     </div>
// </nav>
//
// 
// Styleguide 2.6
.navbar-ws {
  background-color: $color-mine-shaft;
  border: 0;
  border-radius: 0;

  @media (max-width: $asu-screen-sm-max) {
    &.affix {
      position: static !important;
    }
  }

  .container {
    padding-left: 0;
    padding-right: 0;

    @media (max-width: $asu-screen-sm-max) {
      // Not being used by official standards yet.
      //width: 100%;
    }
  }

  &.affix {
    top: 0;
    width: 100%;
    // admin bars usually have a z-index of 999999 and we want them to overlay on top of this affixed top menu
    z-index: 999998;
  }

  .navbar-nav > {
    li:first-child > a {
      &:first-child {
        @media (min-width: $asu-screen-md-min) {
          padding: 21px 25px !important;
        }
      }
    }

    li > a {
      // TODO refactor these constants
      background-color: transparent;
      color: $color-gallery;
      font-size: 15px;
      font-weight: bold;
      line-height: 1;
      padding: 21px 16px;

      @media (max-width: $asu-screen-lg-min) {
        padding-left: 14px;
        padding-right: 14px;
      }

      // TODO carots should be $color-dove-gray (#666)

      &:hover,
      &:focus {
        background-color: $color-black;
        color: $color-sun;

        // TODO carots should be #eee
      }
    }

    li.hover > a {
      background-color: $color-black;
      color: $color-sun;

      // TODO carots should be #eee
    }

    li.open > a {
      background-color: $color-black;
      color: $color-sun;
    }

    .active > a {
      background-color: $color-dark-cave;
      // TODO the docs say this should be $color-selective-yellow, but
      // everyone is using white
      color: $color-white;
    }

    .disabled > a {
      &,
      &:hover,
      &:focus {
        background-color: transparent;
        color: $color-silver;
      }
    }

    > .open > a {
      &,
      &:hover,
      &:focus {
        background-color: $color-dark-cave;
        color: $color-sun;
      }
    }
  }

  .navbar-brand {
    color: $color-gallery;
    font-size: 16px;
    height: auto;
    overflow: hidden;
    padding-right: 0;
    width: calc(100% - 60px);

    &:hover,
    &:focus {
      color: $color-gallery;
    }

    .navbar-text {
      color: $color-boulder;
    }
  }

  .navbar-toggle {
    border: 0;

    @media (min-width: $asu-screen-sm-min) {
      display: block;
    }

    @media (min-width: $asu-screen-md-min) {
      display: none;
    }

    &:hover,
    &:focus {
      background-color: $color-black;

      .icon-bar {
        background-color: $color-sun;
      }
    }

    .icon-bar {
      background-color: $color-gallery;
    }
  }

  .navbar-collapse,
  .navbar-form {
    border-color: $color-black;
  }

  .navbar-link {
    color: $color-boulder;

    // TODO why does this color get darker?
    &:hover {
      color: $color-mine-shaft;
    }
  }

  .btn-link {
    color: $color-boulder;

    // TODO why does this color get darker?
    &:hover,
    &:focus {
      color: $color-mine-shaft;
    }

    &[disabled]:hover,
    &[disabled]:focus,
    fieldset[disabled] &:hover,
    fieldset[disabled] &:focus {
      color: $color-silver;
    }
  }

  .dropdown-menu {
    background-color: darken($color-mine-shaft, 8);
    border: $space-xsmall solid $color-black;
    border-color: transparent;
    border-radius: $border-radius;
    -webkit-box-shadow: none;
    box-shadow: none;
    display: block;
    margin: 0;
    max-height: 0;
    min-width: $nav-bar-dropdown-width;
    overflow: hidden;
    padding: 0;
    position: relative;
    width: 100%;
    

    @media (min-width: 991px) {
      position: absolute;
      width: auto;
    }

    .divider {
      background-color: $color-black;
      height: $space-xsmall;
      margin: $space-base 0;
      overflow: hidden;
    }

    > li > a {
      color: $color-gallery;
      font-size: $font-size-menu;
      font-weight: normal;
      line-height: $line-height-menu;
      padding: $space-large $space-xxlarge;

      &:hover,
      &:focus {
        background-color: $color-black;
        border: 0;
        color: $color-gallery;
        text-decoration: none;
      }
    }

    > .active > a {
      &,
      &:hover,
      &:focus {
        background-color: $color-black;
        color: $color-gallery;
        outline: 0;
        text-decoration: none;
      }
    }
  }

  .open > .dropdown-menu {
    @include box-shadow(0 $space-base $space-large rgba(0, 0, 0, .2));

    border-color: $color-black;
    max-height: $nav-bar-dropdown-max-height;
    padding: $space-large 0;

    @media (max-width: $asu-screen-sm-max) {
      @include box-shadow(none);
    }
  }
}
